# -*- coding: utf-8 -*-
"""Calculadora Efecto Multiplicador Monetario.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1NaSL0W3AG0EURL2kDCgjfccDPn6SJ5ZG

# CALCULADORA EFECTO MULTIPLICADOR MONETARIO
El efecto multiplicador monetario indica cÃ³mo la base monetaria (dinero creado por el banco central) se multiplica para generar la oferta monetaria total en la economÃ­a.

La fÃ³rmula es:

ğ‘€
=
(
ğ‘’
+
1
ğ‘’
+
ğ‘Ÿ
)
â‹…
ğµ
M=(
e+r
e+1
â€‹
 )â‹…B
donde:

ğ‘€
M: Oferta monetaria total

ğµ
B: Base monetaria

ğ‘’
=
ğ¸
ğ·
e=
D
E
â€‹
 : ProporciÃ³n de efectivo en poder del pÃºblico respecto a los depÃ³sitos

ğ‘Ÿ
=
ğ‘…
ğ·
r=
D
R
â€‹
 : ProporciÃ³n de reservas bancarias respecto a los depÃ³sitos

ğ¸
E: Efectivo en poder del pÃºblico

ğ‘…
R: Reservas bancarias

ğ·
D: DepÃ³sitos bancarios

Condiciones importantes:

Los depÃ³sitos
ğ·
D no pueden ser cero

ğ‘’
e debe ser mayor o igual a cero

ğ‘Ÿ
r debe estar entre 0 (exclusivo) y 1 (inclusive)

Esta fÃ³rmula muestra cÃ³mo la cantidad total de dinero
ğ‘€
M depende no solo de la base monetaria
ğµ
B, sino tambiÃ©n de los comportamientos del pÃºblico y los bancos en cuanto a efectivo y reservas.
"""

# LibrerÃ­as necesarias
import ipywidgets as widgets
from IPython.display import display, clear_output, Markdown, Latex, HTML

# TÃ­tulo
display(HTML("<h1 style='text-align:center; color:darkblue;'>Calculadora Efecto Multiplicador Monetario</h1>"))


display(HTML("<hr>"))
display(Markdown("### IngresÃ¡ los valores:"))

# Widgets de entrada
R_widget = widgets.FloatText(description="Reservas R:", step=0.1, layout=widgets.Layout(width='300px'))
E_widget = widgets.FloatText(description="Efectivo E:", step=0.1, layout=widgets.Layout(width='300px'))
D_widget = widgets.FloatText(description="DepÃ³sitos D:", step=0.1, layout=widgets.Layout(width='300px'))
B_widget = widgets.FloatText(description="Base B:", step=0.1, layout=widgets.Layout(width='300px'))

button = widgets.Button(description="Calcular M", button_style='success')
output = widgets.Output()

def calcular_M(R, E, D, B):
    if D == 0:
        return "âŒ Error: D no puede ser 0.", None, None
    e = E / D
    r = R / D
    if e < 0:
        return "âŒ Error: e debe ser mayor o igual a 0 (E/D â‰¥ 0).", None, None
    if not (0 < r <= 1):
        return "âŒ Error: r debe estar entre 0 (exclusivo) y 1 (inclusivo).", None, None
    M = ((e + 1) / (e + r)) * B
    return f"âœ… Resultado: M = {M:.4f}", e, r

def on_button_click(b):
    with output:
        clear_output()
        R = R_widget.value
        E = E_widget.value
        D = D_widget.value
        B = B_widget.value
        resultado, e, r = calcular_M(R, E, D, B)
        print(resultado)
        if e is not None and r is not None:
            print(f"Coeficiente e = E/D = {e:.4f}")
            print(f"Coeficiente r = R/D = {r:.4f}")

button.on_click(on_button_click)

form = widgets.VBox([R_widget, E_widget, D_widget, B_widget, button, output])
display(form)